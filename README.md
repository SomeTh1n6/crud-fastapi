# CRUD FastApi + SQLite

это RESTful API, который позволяет выполнять операции создания, чтения, обновления и удаления (CRUD) с элементами. Это приложение использует FastAPI для обработки запросов, SQLAlchemy для взаимодействия с базой данных.

## Запуск

1. Клонирование репозитория
    ```sh
    git clone https://github.com/SomeTh1n6/crud-fastapi.git
    ```
    
2. Установка зависимостей
    ```sh
    pip install -r requirements.txt
    ```
    
3. Запуск приложения
    ```sh
    uvicorn main:app --reload
    ```

После этого приложение будет доступно по адресу http://127.0.0.1:8000.

## Модели данных

- ItemDB - представляем структуру таблицы в базе данных
- Item - используется для валидации данных поступаемых в API

## Эндпоинты  API

1. Получение всех элементов
    ```sh
    GET /items
    ```
    Возвращает список всех элементов в базе данных.
    **Ответ:**
    - 200 OK: Список элементов.
    
2. Получение элементов по категории
    ```sh 
    GET /items/category/{category}
    ```
    Возвращает список элементов, отфильтрованных по указанной категории.
     **Параметры:**
    - category: Название категории.

    **Ответ:**
    - 200 OK: Список элементов в указанной категории.

3. Фильтрация элементов
     ```sh 
    GET /items/filter
    ```
    
    Позволяет фильтровать элементы по цене и сортировать их.
    **Параметры:**
    - min_price: Минимальная цена (по умолчанию 0.0).
    - max_price: Максимальная цена (по умолчанию бесконечность).
    - sort: Порядок сортировки (asc или desc, по умолчанию asc).
    
    **Ответ:**
    - 200 OK: Список отфильтрованных элементов.
    
4. Создание нового элемента
    ```sh 
    POST /items
    ```
    
    Создает новый элемент в базе данных.
    **Тело запроса:**
    json
    ```sh 
    {
        "id": 1,
        "category": "electronics",
        "name": "Phone",
        "price": 200.0
    }
    ```
    **Ответ:**
    - 200 OK: Созданный элемент.

5. Обновление элемента
    ```sh
    PUT /items/{item_id}
    ```
    Обновляет существующий элемент по его идентификатору.
    **Параметры:**
    - item_id: Идентификатор элемента.
    
    **Тело запроса:**
    json
    
    ```sh 
    {
        "category": "electronics",
        "name": "Updated Phone",
        "price": 250.0
    }
    ```
    **Ответ:**
    - 200 OK: Обновленный элемент.
    - 404 Not Found: Если элемент не найден.


6. Удаление элемента
    ```sh
    DELETE /items/{item_id}
    ```
    Удаляет элемент по его идентификатору.
    **Параметры:**
    - item_id: Идентификатор элемента.
    
    **Ответ:**
    - 200 OK: Сообщение об успешном удалении.
    - 404 Not Found: Если элемент не найден.
    

## Зависимости
- FastAPI: Для создания API.
- SQLAlchemy: Для работы с базой данных.
- Pydantic: Для валидации данных.
- Pytest: Для тестирования.
